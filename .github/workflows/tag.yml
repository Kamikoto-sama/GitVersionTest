name: Tag

on:
  push:

permissions:
  contents: write
  
jobs:
  ver:
    uses: Kamikoto-sama/GitVersionTest/.github/workflows/build-version.yml@master

  tag:
    name: Tag
    runs-on: ubuntu-latest
    needs: ver
    env:
      VERISON: ${{ needs.ver.outputs.semVer }}
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Set tag
        run: git tag -a $VERSION -m "Release $VERSION"
      - name: Push tag
        run: git push origin
